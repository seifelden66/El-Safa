<app-second-header></app-second-header>
<app-firestnav></app-firestnav>
<div class="container-fluid mx-auto">
  <div class="row allproduct_container mx-auto py-4 px-3">
    <div class="col-10 col-xxl-3 col-xl-3 col-md-4 catogury">
      <div dir="rtl" class="Categories_items py-3">
        <div class="type">
          <h4 class="p-2 search_type d-flex justify-content-end">
            Filter by Categories
          </h4>

          <div class="item_name">
            <p class="m-0">All Products</p>
            <input type="radio" name="category" (change)="onCategoryChange('All Products')" />
          </div>

          <ng-container>
            @if (category && category.length) {

              @for (cat of category; track $index) {
                <div class="item_name">
                    <p class="m-0">{{ cat }}</p>
      <input type="radio" name="category" (change)="onCategoryChange(cat)" />
                </div>
            }

            }

          </ng-container>



        </div>

        <div class="Rate">
          <h4 class="p-3 search_type d-flex justify-content-end">
            Filter by Price
          </h4>
          <div class="card">
            <input
              type="text"
              pInputText
              [(ngModel)]="rangeValues"
              [readOnly]="true"
              class="w-75 d-flex mx-auto"
            />
            <p-slider
              [(ngModel)]="rangeValues"
              class="p-4"
              [max]="500"
              [range]="true"
            ></p-slider>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xxl-9 col-xl-9 col-md-8 col-10">
      <div class="row allproduct">
        @for(product of allproducts; track $index){
        <div class="product_data my-3">
          <div class="product_img">
            <img
              class="w-100 p-3"
              src="/assets/{{ product.images[0] }}"
              alt=""
              (click)="redirect(product?._id)"
            />
          </div>
        
            <div class="product_price  p-2  text-center">
              <button type="button" class="btn btn-outline-secondary p-1 my-2 ">{{ product?.category['name'] }}</button>
              <p class="product_name" style="color: #6474A9;">{{ product?.name }}</p>
              <!-- <div class="rate_product">
                <ngb-rating [(rate)]="product.ratings['0']['value']" [max]="5"></ngb-rating>

              </div> -->
              <h2 style="font-weight: 600;" class="my-2">${{ product?.price}}</h2>
              <h2 style="font-weight: 600;" class="my-2">{{ product?.short_desc }}</h2>
                

                <div class="add_fav_btn Btns d-flex gap-3 my-2 ">

                         <div class="card">
                                    <p-toast></p-toast>
                                    <button type="button" pButton (click)="redirecttocart(product); increase() ; show2()" label="" class="fav_btn"><i class="fa-solid fa-heart"></i></button>
                               
                                  </div>
                  
                                  <div class="card">
                                    <p-toast></p-toast>
                                    <button type="button" pButton (click)=" increase() ; show(); addToCart(product?._id)" label="" class="">+</button>
                        
                                  </div>

                      

                </div>

            </div>



          </div>


        }

      </div>



    </div>



  </div>
</div>

<app-footer></app-footer>
